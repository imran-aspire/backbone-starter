<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <title>User Manager</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css" >
  </head>
  <body>
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
      <nav class="my-2 my-md-0 mr-md-3 float-left">
        <a class="p-2 text-dark" href="#/">Home</a>
      </nav>
    </div>
    <div class="container mt-5">
    </div>

    <script type="text/template" id="user-list-template">
      <div class="row " id="user-view">
        <div class="col-12">
          <h4 class="mt-2  pb-4">User manager  <a href="#/new" class="btn btn-primary float-right" id="click">Add new user</a></h4>
          
          <table class="table table-bordered mt-3">
            <thead>
              <th>Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Created At</th>
              <th>Action</th>
            </thead>
            <tbody>
              <% _.each(users, function(user){ %>
                  <tr>
                    <td><%= user.get('name') %></td>
                    <td><%= user.get('email') %></td>
                    <td><%= user.get('phone') %></td>
                    <td><%= user.get('createdAt') %></td>
                    <td>
                      <a  class="btn btn-success btn-sm edit-button" href="#/edit/<%= user.get('_id') %>">Edit</a>
                    </td>
                  </tr>
              <% }) %>
            </tbody>
          <table>
        </div>
      </div>
    </script>

    <script type="text/template" id="user-form-template">
      <div class="row">
        <div class="col-md-6 m-3 shadow-sm card card-body">
          <h4><%= user ? 'Update' : 'New' %> User</h4>
          <hr/>
          <form id="user-form">
            <div class="form-group">
              <label for="exampleInputEmail1">Name</label>
              <input type="text" class="form-control" name="name" value="<%= user ? user.get('name') : ''%>" id="exampleInputName" aria-describedby="emailHelp" placeholder="Enter name" required>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">Email address</label>
              <input type="email" class="form-control" name="email" value="<%= user ? user.get('email') : ''%>" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" required>
              <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group">
              <label for="exampleInputPassword1">Phone</label>
              <input type="text" class="form-control" name="phone" value="<%= user ? user.get('phone') : ''%>" id="exampleInputPassword1" placeholder="Phone number">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
            <% if( user && user.get('_id')){%>
              <button type="button" id="user-delete" class="btn btn-danger">Delete</button>
            <% } %>
          </form>
        </div>
      </div>
    </script>
    

    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/underscore/underscore-min.js" type="text/javascript"></script>
    <script src="../node_modules/backbone/backbone-min.js"></script>
    <script src="utils.js"></script>
    <script src="models/user.js"></script>
    <script src="collections/users.js"></script>
    <script src="views/userListView.js"></script>
    <script src="views/userFormView.js"></script>
    <script src="app.js"></script>
  </body>
    
</html>